CC=g++
CFLAGS = -g -I -Wall -std=c++11
LDFLAGS = -pthread
DEPS = fifoqueue.h \
			 fast_rand.h \
			 queue_item.h \
			 nonblocking_queue.h \
			 atomic_wrapper.h

OBJ = main-non-block.o
EXC = main-nonblock

%.o: %.cpp $(DEPS)
	$(CC) -c -o $@ $< $(CFLAGS)

make: $(OBJ)
	$(CC) -o $(EXC) $^ $(LDFLAGS)

clean:
	rm *.o
